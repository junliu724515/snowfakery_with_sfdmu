- snowfakery_version: 3
- object: Account
  count: 5
  fields:
    Name: ${{fake.text(max_nb_chars=10)}} company
  friends:
    - object: Contact
      count: 3
      fields:
        FirstName: ${{fake.first_name}}
        LastName: ${{fake.last_name}}
        AccountId: ${{Account}}
      friends:
        - object: Opportunity
          count: ${{random_number(1, 3)}}  # 1 to 3 opportunities per contact
          fields:
            StageName:
              random_choice:
                Prospecting: 20%
                Qualification: 20%
                Needs Analysis: 20%
                Value Proposition: 20%
                Closed Lost: 20%
            CloseDate: 2025-01-01
            ContactId: ${{Contact}}
            AccountId: ${{Account}}
            Name: The ${{Contact.LastName}} Opportunity
          friends:
            - object: OpportunityContactRole
              fields:
                OpportunityId: ${{Opportunity}}
                ContactId: ${{Contact}}
                Role:
                  random_choice:
                    Business User: 20%
                    Decision Maker: 20%
                    Economic Buyer: 20%
                    Economic Decision Maker: 20%
                    Evaluator: 20%
        - object: Case
          count: ${{random_number(1, 5)}}  # 1 to 5 cases per contact
          fields:
            Subject: ${{fake.sentence}}
            Description: ${{fake.paragraph}}
            ContactId: ${{Contact}}
        - object: Reservation__c
          count: ${{random_number(0, 2)}}  # 0 to 2 reservations per contact
          fields:
            Contact__c: ${{Contact}}
            Special_Requests__c:
                random_choice:
                    None: 20%
                    Extra pillows: 20%
                    Late check-in: 20%
                    Early check-out: 20%
                    High floor: 20%
            Check_in_Date__c:
                 date_between:
                    start_date: -100d
                    end_date: +180d
            Check_out_Date__c:
                 date_between:
                    start_date: ${{Reservation__c.Check_in_Date__c}}
                    end_date: +1m
            Room_Type__c:
              random_choice:
                Standard: 50%
                Suite: 25%
                Deluxe: 25%
            Reservation_Status__c:
              random_choice:
                Confirmed: 50%
                Completed: 20%
                Cancelled: 10%
                Checked-out: 10%
                Checked-in: 10%
            Total_Price__c:
                random_number:
                    min: 100
                    max: 1000



